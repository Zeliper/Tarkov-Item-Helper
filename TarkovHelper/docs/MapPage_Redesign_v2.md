# MapPage UI/UX Redesign v2

## Overview

MapTrackerPageë¥¼ ì™„ì „ížˆ ìž¬ì„¤ê³„í•˜ì—¬ í–¥í›„ Quest Drawerì™€ì˜ í†µí•©ì„ ê³ ë ¤í•œ ìƒˆë¡œìš´ ë ˆì´ì•„ì›ƒ êµ¬í˜„.

## Goals

1. ì™¼ìª½ì— Quest Drawer ê³µê°„ í™•ë³´ (í˜„ìž¬ëŠ” ì ‘ížŒ ìƒíƒœ)
2. **ì„¤ì • íŒ¨ë„ì„ ë³„ë„ ìŠ¬ë¼ì´ë“œ íŒ¨ë„ë¡œ ë¶„ë¦¬** (ë§µ ì˜ì—­ ìµœëŒ€í™”)
3. **ì¹´í…Œê³ ë¦¬ë³„ íƒ­ìœ¼ë¡œ í™•ìž¥ì„± í™•ë³´** (Layers, Floor, Display, Tracker)
4. ë§ˆì»¤ í´ëŸ¬ìŠ¤í„°ë§ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ
5. íŒì—… íˆ´íŒìœ¼ë¡œ ë§ˆì»¤ ìƒì„¸ ì •ë³´ í‘œì‹œ

---

## New Layout Structure

### Main Layout (Settings Panel Closed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TARKOV HELPER                    Lv. 15  Rep 1.0  DSP  Support  âš™  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Quests â”‚ Hideout â”‚ Items â”‚ Collector â”‚ [Map]                       â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Q  â”‚  â”‚ Map: [Customs â–¼]  â”‚  - 50% +  Fit  â”‚  Player: --  [â–¶] âš™ â”‚  â”‚
â”‚ u  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ e  â”‚  â”‚                                                          â”‚  â”‚
â”‚ s  â”‚  â”‚                                                          â”‚  â”‚
â”‚ t  â”‚  â”‚                                                          â”‚  â”‚
â”‚    â”‚  â”‚                   M  A  P    A  R  E  A                   â”‚  â”‚
â”‚ D  â”‚  â”‚                                                          â”‚  â”‚
â”‚ r  â”‚  â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  â”‚
â”‚ a  â”‚  â”‚                        â”‚  Tooltip   â”‚                    â”‚  â”‚
â”‚ w  â”‚  â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚
â”‚ e  â”‚  â”‚                                                          â”‚  â”‚
â”‚ r  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â—€  â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â— Connected â”‚ Player: X:163, Z:-24 â”‚ Markers: 33 â”‚ Quests: 62     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Main Layout (Settings Panel Open)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TARKOV HELPER                    Lv. 15  Rep 1.0  DSP  Support  âš™  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Quests â”‚ Hideout â”‚ Items â”‚ Collector â”‚ [Map]                       â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ Q  â”‚  â”‚ Map: [Customs â–¼]  â”‚  - 50% +  â”‚  [â–¶]    âš™ â”‚  â”‚ â”‚Settings â”‚ â”‚
â”‚ u  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ e  â”‚  â”‚                                            â”‚  â”‚ â”‚[L][F][D]â”‚ â”‚
â”‚ s  â”‚  â”‚                                            â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ t  â”‚  â”‚                                            â”‚  â”‚ â”‚ Content â”‚ â”‚
â”‚    â”‚  â”‚           M  A  P    A  R  E  A            â”‚  â”‚ â”‚  by     â”‚ â”‚
â”‚ D  â”‚  â”‚                                            â”‚  â”‚ â”‚  Tab    â”‚ â”‚
â”‚ r  â”‚  â”‚                                            â”‚  â”‚ â”‚         â”‚ â”‚
â”‚ a  â”‚  â”‚                                            â”‚  â”‚ â”‚         â”‚ â”‚
â”‚ w  â”‚  â”‚                                            â”‚  â”‚ â”‚         â”‚ â”‚
â”‚ e  â”‚  â”‚                                            â”‚  â”‚ â”‚         â”‚ â”‚
â”‚ r  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â—€  â”‚                                                  â”‚             â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â— Connected â”‚ Player: X:163, Z:-24 â”‚ Markers: 33 â”‚ Quests: 62     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Specifications

### 1. Left Panel - Quest Drawer (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—€ Quest Panel â”‚  â† ì ‘íž˜ ë²„íŠ¼ (ì•„ì´ì½˜ë§Œ í‘œì‹œ)
â”‚                â”‚
â”‚ ì ‘ížŒ ìƒíƒœ:     â”‚
â”‚   [Q] ë²„íŠ¼ë§Œ   â”‚
â”‚   í‘œì‹œ         â”‚
â”‚                â”‚
â”‚ íŽ¼ì¹œ ìƒíƒœ:     â”‚
â”‚   Width: 280px â”‚
â”‚   - í€˜ìŠ¤íŠ¸ ëª©ë¡ â”‚
â”‚   - ì„ íƒí•œ     â”‚
â”‚     í€˜ìŠ¤íŠ¸     â”‚
â”‚     ìƒì„¸       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í˜„ìž¬ êµ¬í˜„**: ì ‘ížŒ ìƒíƒœë¡œ ì‹œìž‘, í† ê¸€ ë²„íŠ¼ë§Œ í‘œì‹œ
**í–¥í›„ ê³„íš**: Quest ì •ë³´ í‘œì‹œ, ë§ˆì»¤ í´ë¦­ ì‹œ í•´ë‹¹ í€˜ìŠ¤íŠ¸ë¡œ ì´ë™

### 2. Settings Panel (Slide-out)

**Trigger**: íˆ´ë°”ì˜ âš™ ë²„íŠ¼ í´ë¦­
**Animation**: ì˜¤ë¥¸ìª½ì—ì„œ ìŠ¬ë¼ì´ë“œ ì¸/ì•„ì›ƒ
**Width**: 280px
**Overlay**: ë°˜íˆ¬ëª… ë°°ê²½ (í´ë¦­ ì‹œ ë‹«ê¸°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Map Settings              [âœ•]  â”‚  â† í—¤ë” + ë‹«ê¸° ë²„íŠ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Layers] [Floor] [Display] [â–¶] â”‚  â† íƒ­ ë„¤ë¹„ê²Œì´ì…˜ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚     Tab Content Area            â”‚  â† ì„ íƒëœ íƒ­ ë‚´ìš©
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Tab 1: Layers (ë ˆì´ì–´ í•„í„°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ Points of Interest            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ [All] [None]              â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ â˜‘ ðŸŸ¢ Extractions    (25) â”‚ â”‚
â”‚   â”‚ â˜‘ ðŸ”µ Transits        (4) â”‚ â”‚
â”‚   â”‚ â˜ ðŸŸ  Spawns          (0) â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Enemies                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ [All] [None]              â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ â˜‘ ðŸ”´ Bosses          (4) â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Interactables                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ [All] [None]              â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ â˜‘ ðŸŸ£ Levers          (0) â”‚ â”‚
â”‚   â”‚ â˜ ðŸŸ¡ Keys            (0) â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ Quests                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ [All] [None]              â”‚ â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚   â”‚ â˜‘ â—† Quest Objectives (62)â”‚ â”‚
â”‚   â”‚ â˜ Hide completed         â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Tab 2: Floor (ì¸µ ì„ íƒ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Floor Selection                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â—‹ All Floors              â”‚   â”‚
â”‚ â”‚ â— Ground Floor            â”‚   â”‚
â”‚ â”‚ â—‹ Underground 1           â”‚   â”‚
â”‚ â”‚ â—‹ Underground 2           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Auto Detection                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â˜‘ Auto-detect floor       â”‚   â”‚
â”‚ â”‚   from player Y position  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Tab 3: Display (í‘œì‹œ ì„¤ì •)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Marker Settings                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Size:   [â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€] 100%â”‚   â”‚
â”‚ â”‚ Opacity:[â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€]  80%â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Label Settings                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â˜‘ Show marker labels      â”‚   â”‚
â”‚ â”‚ Show at zoom: [â”€â”€â—â”€â”€] 70% â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Clustering                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â˜‘ Enable clustering       â”‚   â”‚
â”‚ â”‚ Radius: [â”€â”€â”€â”€â—â”€â”€â”€â”€] 30px  â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Tab 4: Tracker (í”Œë ˆì´ì–´ ì¶”ì ) - Optional

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Player Tracking                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Status: â— Connected       â”‚   â”‚
â”‚ â”‚ Position: X:163 Z:-24     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Options                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â˜‘ Auto-follow player      â”‚   â”‚
â”‚ â”‚ â˜‘ Auto-detect floor       â”‚   â”‚
â”‚ â”‚ â˜ Show player trail       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Player Marker                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Size:  [â”€â”€â”€â”€â—â”€â”€â”€â”€] 100%   â”‚   â”‚
â”‚ â”‚ Color: [ðŸ”µ] Cyan          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Top Toolbar (Simplified)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Map: [Customs â–¼]  â”‚  - [50%] +  Fit  â”‚  Player: -- â”‚ [â–¶ Start]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìš”ì†Œ ê·¸ë£¹í™”**:
1. **ë§µ ì„ íƒ** (FloorëŠ” ì˜¤ë¥¸ìª½ íŒ¨ë„ë¡œ ì´ë™)
2. **ì¤Œ ì»¨íŠ¸ë¡¤** (-, %, +, Fit)
3. **í”Œë ˆì´ì–´ íŠ¸ëž˜í‚¹** (ìœ„ì¹˜, Start/Stop)

### 4. Marker Tooltip Popup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸŸ¢ ZB-1011                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Type: PMC Extraction             â”‚
â”‚ Requires: ZB-1011 Key            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ [Show on Quest] [Copy Coords]    â”‚  â† í–¥í›„ Quest Drawer ì—°ë™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Trigger**: ë§ˆì»¤ í´ë¦­ ë˜ëŠ” í˜¸ë²„
**Position**: ë§ˆì»¤ ê·¼ì²˜ (í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì¡°ì •)
**Features**:
- ë§ˆì»¤ ì´ë¦„ + ìƒ‰ìƒ ì•„ì´ì½˜
- íƒ€ìž… ì •ë³´
- ìš”êµ¬ ì¡°ê±´ (í‚¤, ë ˆë²¨ ë“±)
- ì•¡ì…˜ ë²„íŠ¼

### 5. Marker Clustering

```
í´ëŸ¬ìŠ¤í„°ë§ ì¡°ê±´:
- í™”ë©´ í”½ì…€ ê¸°ì¤€ 30px ì´ë‚´ì˜ ë§ˆì»¤ë“¤
- ì¤Œ ë ˆë²¨ì— ë”°ë¼ ë™ì  ì¡°ì •

í´ëŸ¬ìŠ¤í„° í‘œì‹œ:
â”Œâ”€â”€â”€â”€â”€â”
â”‚ ðŸŸ¢3 â”‚  â† ëŒ€í‘œ ì•„ì´ì½˜ + ìˆ«ìž ë°°ì§€
â””â”€â”€â”€â”€â”€â”˜

í´ëŸ¬ìŠ¤í„° í´ë¦­ ì‹œ:
- í•´ë‹¹ ì˜ì—­ìœ¼ë¡œ ì¤Œ ì¸
- ë˜ëŠ” íŽ¼ì³ì„œ ê°œë³„ ë§ˆì»¤ í‘œì‹œ
```

**Algorithm**:
1. í™”ë©´ ì¢Œí‘œë¡œ ë§ˆì»¤ ìœ„ì¹˜ ê³„ì‚°
2. DBSCAN ë˜ëŠ” Grid-based í´ëŸ¬ìŠ¤í„°ë§
3. í´ëŸ¬ìŠ¤í„° ëŒ€í‘œ ì•„ì´ì½˜ ì„ íƒ (ìš°ì„ ìˆœìœ„: íƒˆì¶œêµ¬ > ë³´ìŠ¤ > í€˜ìŠ¤íŠ¸ > ê¸°íƒ€)

---

## Color Scheme

| Element | Color | Hex |
|---------|-------|-----|
| Panel Background | Dark Gray | #1E1E1E |
| Panel Border | Medium Gray | #3D3D3D |
| Section Header | Light Gray | #4A4A4A |
| Extraction | Green | #4CAF50 |
| Transit | Blue | #2196F3 |
| Spawn | Orange | #FF9800 |
| Boss | Red | #F44336 |
| Quest | Yellow | #FFC107 |
| Lever | Purple | #9C27B0 |
| Key | Gold | #FFD700 |
| Cluster Badge | White on Dark | #FFFFFF on #333333 |

---

## Implementation Phases

### Phase 1: Layout Restructure
- [ ] Create new grid layout (Left drawer placeholder, Center map)
- [ ] Implement collapsible left panel (Quest Drawer placeholder)
- [ ] Simplify top toolbar (remove filter controls, add âš™ button)
- [ ] Remove current right filter panel from main view

### Phase 2: Settings Panel Implementation
- [ ] Create slide-out Settings Panel component
- [ ] Implement âš™ button toggle behavior
- [ ] Add semi-transparent overlay (click to close)
- [ ] Animate slide-in/out from right edge

### Phase 3: Settings Panel Tabs
- [ ] Implement tab navigation ([Layers] [Floor] [Display] [Tracker])
- [ ] Tab 1 - Layers: Move layer filters with category expanders
- [ ] Tab 2 - Floor: Move floor selection + auto-detect option
- [ ] Tab 3 - Display: Add marker size, label settings, clustering options
- [ ] Tab 4 - Tracker: Player tracking status and options

### Phase 4: Marker Clustering
- [ ] Implement clustering algorithm (DBSCAN or Grid-based)
- [ ] Design cluster marker UI (badge with count)
- [ ] Handle cluster click (zoom in or expand)
- [ ] Performance optimization (debounce, viewport culling)

### Phase 5: Enhanced Tooltip
- [ ] Design new tooltip popup component
- [ ] Add action buttons (Show on Quest, Copy Coords)
- [ ] Smart position calculation (stay within viewport)
- [ ] Animation (fade in/out)

### Phase 6: Quest Drawer Integration (Future)
- [ ] Quest list display in left panel
- [ ] Quest-marker bidirectional linking
- [ ] Marker click â†’ Quest highlight
- [ ] Quest select â†’ Marker highlight

---

## Technical Notes

### State Management
```csharp
// Panel states
bool _leftPanelExpanded = false;      // Quest Drawer (future)
bool _settingsPanelOpen = false;       // Settings slide-out panel
int _currentSettingsTab = 0;           // 0:Layers, 1:Floor, 2:Display, 3:Tracker

// Clustering
bool _clusteringEnabled = true;
int _clusterRadius = 30;               // pixels
List<MarkerCluster> _clusters;

// Display settings
double _markerScale = 1.0;             // 0.5 ~ 2.0
double _markerOpacity = 0.8;           // 0.0 ~ 1.0
bool _showLabels = true;
double _labelShowZoomThreshold = 0.7;  // Show labels at 70%+ zoom

// Tooltip
MapMarker? _hoveredMarker;
Point _tooltipPosition;
bool _tooltipVisible = false;
```

### Settings Panel Animation
```csharp
// Slide animation for settings panel
var slideAnimation = new DoubleAnimation
{
    From = _settingsPanelOpen ? 0 : -280,
    To = _settingsPanelOpen ? -280 : 0,
    Duration = TimeSpan.FromMilliseconds(200),
    EasingFunction = new QuadraticEase { EasingMode = EasingMode.EaseOut }
};
SettingsPanel.RenderTransform.BeginAnimation(TranslateTransform.XProperty, slideAnimation);
```

### Clustering Algorithm
```csharp
// Grid-based clustering (simpler, better performance)
public List<MarkerCluster> ComputeClusters(List<MapMarker> markers, double zoomLevel)
{
    var gridSize = _clusterRadius / zoomLevel;
    var grid = new Dictionary<(int, int), List<MapMarker>>();

    foreach (var marker in markers)
    {
        var key = ((int)(marker.ScreenX / gridSize), (int)(marker.ScreenY / gridSize));
        if (!grid.ContainsKey(key)) grid[key] = new List<MapMarker>();
        grid[key].Add(marker);
    }

    return grid.Where(g => g.Value.Count > 0)
               .Select(g => new MarkerCluster(g.Value))
               .ToList();
}
```

### Performance Considerations
- Clustering recalculated on:
  - Zoom change (debounced 100ms)
  - Pan end (not during pan)
  - Layer visibility change
- Use viewport culling for markers outside visible area
- Lazy load marker details on tooltip show
- Settings panel uses Canvas overlay (not Grid column)

---

## Mockup Reference

See: `docs/mockups/MapPage_v2_mockup.png` (to be created)
