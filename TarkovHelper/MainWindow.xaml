<Window x:Class="TarkovHelper.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TarkovHelper"
        mc:Ignorable="d"
        Title="Tarkov Helper" Height="800" Width="1400"
        MinHeight="400" MinWidth="600"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="131*"/>
            <RowDefinition Height="161*"/>
        </Grid.RowDefinitions>
        <!-- Main Content with Blur Effect -->
        <Grid x:Name="MainContent" Grid.RowSpan="2">
            <Grid.Effect>
                <BlurEffect x:Name="BlurEffect" Radius="0"/>
            </Grid.Effect>

            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Border x:Name="TitleBar" Grid.Row="0" Background="{StaticResource BackgroundMediumBrush}" Padding="16,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="TARKOV HELPER" FontSize="{DynamicResource FontSizeXLarge}" FontWeight="Bold"
                                   Foreground="{StaticResource AccentBrush}" VerticalAlignment="Center"/>

                        <!-- Update Button -->
                        <Button x:Name="BtnCheckUpdate" Content="Check Update"
                                Padding="8,4" Margin="16,0,0,0"
                                FontSize="{DynamicResource FontSizeXSmall}"
                                Click="BtnCheckUpdate_Click"
                                ToolTip="Check for updates"
                                Visibility="Visible"/>

                        <!-- Update Available Button (hidden by default) -->
                        <Button x:Name="BtnUpdateAvailable"
                                Padding="8,4" Margin="16,0,0,0"
                                FontSize="{DynamicResource FontSizeXSmall}"
                                Click="BtnUpdateAvailable_Click"
                                Background="#4CAF50"
                                Foreground="White"
                                Visibility="Collapsed">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="Update to " VerticalAlignment="Center"/>
                                    <TextBlock x:Name="TxtUpdateVersion" Text="v0.0.0" VerticalAlignment="Center" FontWeight="Bold"/>
                                </StackPanel>
                            </Button.Content>
                        </Button>

                        <!-- Update Checking Indicator -->
                        <TextBlock x:Name="TxtUpdateChecking" Text="Checking..."
                                   FontSize="{DynamicResource FontSizeXSmall}"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   VerticalAlignment="Center" Margin="16,0,0,0"
                                   Visibility="Collapsed"/>

                        <!-- Version Info Panel -->
                        <StackPanel x:Name="VersionInfoPanel" Orientation="Horizontal" VerticalAlignment="Center" Margin="12,0,0,0">
                            <TextBlock x:Name="TxtCurrentVersion" Text="v4.0.0"
                                       FontSize="{DynamicResource FontSizeTiny}"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock Text=" · "
                                       FontSize="{DynamicResource FontSizeTiny}"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
                            <TextBlock x:Name="TxtUpdateStatus" Text="Up to date"
                                       FontSize="{DynamicResource FontSizeTiny}"
                                       Foreground="#4CAF50"
                                       VerticalAlignment="Center"/>
                            <TextBlock x:Name="TxtLastCheckTime" Text=""
                                       FontSize="{DynamicResource FontSizeTiny}"
                                       Foreground="{StaticResource TextSecondaryBrush}"
                                       VerticalAlignment="Center" Margin="8,0,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Right Side Controls -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- Player Level Control -->
                        <Border Background="{StaticResource BackgroundLightBrush}"
                                CornerRadius="4" Padding="4,2" Margin="0,0,12,0"
                                VerticalAlignment="Center">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Lv." FontSize="{DynamicResource FontSizeXSmall}" FontWeight="SemiBold"
                                           Foreground="{StaticResource TextSecondaryBrush}"
                                           VerticalAlignment="Center" Margin="4,0,4,0"/>
                                <Button x:Name="BtnLevelDown" Content="-" Width="24" Height="24"
                                        Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                        Click="BtnLevelDown_Click"
                                        ToolTip="Decrease level"/>
                                <TextBox x:Name="TxtPlayerLevel" Text="15" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                         Foreground="{StaticResource AccentBrush}"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         VerticalAlignment="Center" Margin="8,0"
                                         MinWidth="28" MaxWidth="40"
                                         TextAlignment="Center"
                                         VerticalContentAlignment="Center"
                                         PreviewTextInput="TxtPlayerLevel_PreviewTextInput"
                                         LostFocus="TxtPlayerLevel_LostFocus"
                                         KeyDown="TxtPlayerLevel_KeyDown"/>
                                <Button x:Name="BtnLevelUp" Content="+" Width="24" Height="24"
                                        Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                        Click="BtnLevelUp_Click"
                                        ToolTip="Increase level"/>
                            </StackPanel>
                        </Border>

                        <!-- Profile Button -->
                        <Button x:Name="BtnProfile" Content="▼ Profile" Padding="10,6"
                                Margin="0,0,12,0" Click="BtnProfile_Click"
                                ToolTip="Open profile settings (Edition, Prestige, Scav Rep, DSP)"/>

                        <!-- Buy me a coffee -->
                        <Button x:Name="BtnCoffee" Content="☕ Support" Padding="10,6"
                                Margin="0,0,8,0" Click="BtnCoffee_Click"
                                ToolTip="Buy me a coffee"/>

                        <!-- Reset Progress -->
                        <Button x:Name="BtnResetProgress" Content="↩ Reset" Padding="10,6"
                                Margin="0,0,8,0" Click="BtnResetProgress_Click"
                                ToolTip="Reset all progress"/>

                        <!-- Settings -->
                        <Button x:Name="BtnSettings" Content="⚙" Padding="10,6"
                                Margin="0,0,12,0" Click="BtnSettings_Click"
                                FontSize="{DynamicResource FontSizeMedium}"
                                ToolTip="Settings"/>

                        <!-- Language Selector -->
                        <ComboBox x:Name="CmbLanguage" Width="60"
                                  SelectionChanged="CmbLanguage_SelectionChanged">
                            <ComboBoxItem Content="EN" Tag="EN"/>
                            <ComboBoxItem Content="KO" Tag="KO"/>
                            <ComboBoxItem Content="JA" Tag="JA"/>
                        </ComboBox>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Main Content Area -->
            <Grid Grid.Row="1">
                <!-- Welcome Text (shown when no data) -->
                <TextBlock x:Name="TxtWelcome" Text="Welcome to Tarkov Helper"
                           FontSize="{DynamicResource FontSizeHeader}" FontWeight="Light"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Visibility="Collapsed"/>

                <!-- Tab Content Area -->
                <Grid x:Name="TabContentArea" Visibility="Collapsed">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Tab Navigation -->
                    <Border x:Name="TabNavigation" Grid.Row="0" Background="{StaticResource BackgroundMediumBrush}" Padding="16,0">
                        <StackPanel Orientation="Horizontal">
                            <RadioButton x:Name="TabQuests" Content="Quests"
                                         Style="{StaticResource TabButtonStyle}"
                                         IsChecked="True"
                                         Checked="Tab_Checked"/>
                            <RadioButton x:Name="TabHideout" Content="Hideout"
                                         Style="{StaticResource TabButtonStyle}"
                                         Checked="Tab_Checked"/>
                            <RadioButton x:Name="TabItems" Content="Items"
                                         Style="{StaticResource TabButtonStyle}"
                                         Checked="Tab_Checked"/>
                            <RadioButton x:Name="TabCollector" Content="Collector"
                                         Style="{StaticResource TabButtonStyle}"
                                         Checked="Tab_Checked"/>
                            <RadioButton x:Name="TabMap" Content="Map"
                                         Style="{StaticResource TabButtonStyle}"
                                         Checked="Tab_Checked"/>
                        </StackPanel>
                    </Border>

                    <!-- Tab Content -->
                    <ContentControl x:Name="PageContent" Grid.Row="1"/>
                </Grid>
            </Grid>
        </Grid>

        <!-- Profile Drawer Overlay (slides down from title bar) -->
        <Border x:Name="ProfileDrawer" Grid.RowSpan="2" Background="{StaticResource BackgroundLightBrush}"
                VerticalAlignment="Top" Margin="0,52,0,0"
                Visibility="Collapsed">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Direction="270" Opacity="0.3"/>
            </Border.Effect>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="16,12">
                <!-- Scav Rep Control -->
                <Border Background="{StaticResource BackgroundMediumBrush}"
                        CornerRadius="4" Padding="8,6" Margin="0,0,16,0"
                        VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Scav Rep" FontSize="{DynamicResource FontSizeXSmall}" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <Button x:Name="BtnScavRepDown" Content="-" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnScavRepDown_Click"
                                ToolTip="Decrease Scav Rep (-0.1)"/>
                        <TextBox x:Name="TxtScavRep" Text="1.0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                 Foreground="{StaticResource AccentBrush}"
                                 Background="Transparent"
                                 BorderThickness="0"
                                 VerticalAlignment="Center" Margin="8,0"
                                 MinWidth="36" MaxWidth="48"
                                 TextAlignment="Center"
                                 VerticalContentAlignment="Center"
                                 PreviewTextInput="TxtScavRep_PreviewTextInput"
                                 LostFocus="TxtScavRep_LostFocus"
                                 KeyDown="TxtScavRep_KeyDown"/>
                        <Button x:Name="BtnScavRepUp" Content="+" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnScavRepUp_Click"
                                ToolTip="Increase Scav Rep (+0.1)"/>
                    </StackPanel>
                </Border>

                <!-- DSP Decode Count Control -->
                <Border Background="{StaticResource BackgroundMediumBrush}"
                        CornerRadius="4" Padding="8,6" Margin="0,0,16,0"
                        VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="DSP" FontSize="{DynamicResource FontSizeXSmall}" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <Button x:Name="BtnDsp0" Content="0" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnDsp_Click" Tag="0"
                                ToolTip="0 Decodes - No Make Amends quest"/>
                        <Button x:Name="BtnDsp1" Content="1" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnDsp_Click" Tag="1" Margin="2,0,0,0"
                                ToolTip="1 Decode - Make Amends: Buyout"/>
                        <Button x:Name="BtnDsp2" Content="2" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnDsp_Click" Tag="2" Margin="2,0,0,0"
                                ToolTip="2 Decodes - Make Amends: Security"/>
                        <Button x:Name="BtnDsp3" Content="3" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnDsp_Click" Tag="3" Margin="2,0,0,0"
                                ToolTip="3 Decodes - Make Amends: Software"/>
                    </StackPanel>
                </Border>

                <!-- Game Edition Checkboxes -->
                <Border Background="{StaticResource BackgroundMediumBrush}"
                        CornerRadius="4" Padding="8,6" Margin="0,0,16,0"
                        VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Edition" FontSize="{DynamicResource FontSizeXSmall}" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <CheckBox x:Name="ChkEodEdition" Content="EOD"
                                  Foreground="{StaticResource TextPrimaryBrush}"
                                  FontSize="{DynamicResource FontSizeXSmall}"
                                  VerticalAlignment="Center" Margin="0,0,12,0"
                                  Checked="ChkEdition_Changed" Unchecked="ChkEdition_Changed"
                                  ToolTip="Edge of Darkness Edition"/>
                        <CheckBox x:Name="ChkUnheardEdition" Content="Unheard"
                                  Foreground="{StaticResource TextPrimaryBrush}"
                                  FontSize="{DynamicResource FontSizeXSmall}"
                                  VerticalAlignment="Center"
                                  Checked="ChkEdition_Changed" Unchecked="ChkEdition_Changed"
                                  ToolTip="The Unheard Edition"/>
                    </StackPanel>
                </Border>

                <!-- Prestige Level Control -->
                <Border Background="{StaticResource BackgroundMediumBrush}"
                        CornerRadius="4" Padding="8,6"
                        VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Prestige" FontSize="{DynamicResource FontSizeXSmall}" FontWeight="SemiBold"
                                   Foreground="{StaticResource TextSecondaryBrush}"
                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <Button x:Name="BtnPrestigeDown" Content="-" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnPrestigeDown_Click"
                                ToolTip="Decrease prestige level"/>
                        <TextBlock x:Name="TxtPrestigeLevel" Text="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                   Foreground="{StaticResource AccentBrush}"
                                   VerticalAlignment="Center" Margin="8,0"
                                   MinWidth="16" TextAlignment="Center"/>
                        <Button x:Name="BtnPrestigeUp" Content="+" Width="24" Height="24"
                                Padding="0" FontSize="{DynamicResource FontSizeSmall}" FontWeight="Bold"
                                Click="BtnPrestigeUp_Click"
                                ToolTip="Increase prestige level"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Loading Overlay -->
        <Grid x:Name="LoadingOverlay" Visibility="Collapsed" Background="#AA1A1A1A" Grid.RowSpan="2">
            <Border Background="{StaticResource BackgroundDarkBrush}"
                    CornerRadius="8" Padding="32,24"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    MinWidth="320">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.5"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Loading Data" FontSize="{DynamicResource FontSizeLarge}" FontWeight="SemiBold"
                               Foreground="{StaticResource AccentBrush}"
                               HorizontalAlignment="Center" Margin="0,0,0,16"/>
                    <ProgressBar x:Name="LoadingProgressBar"
                                 Height="6" IsIndeterminate="True"
                                 Foreground="{StaticResource AccentBrush}"
                                 Background="{StaticResource BackgroundMediumBrush}"/>
                    <TextBlock x:Name="LoadingStatusText"
                               Text="Initializing..."
                               FontSize="{DynamicResource FontSizeXSmall}" Margin="0,12,0,0"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap" MaxWidth="280"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Settings Overlay -->
        <Grid x:Name="SettingsOverlay" Visibility="Collapsed" Background="#AA1A1A1A" Grid.RowSpan="2"
              MouseDown="SettingsOverlay_MouseDown">
            <Border Background="{StaticResource BackgroundDarkBrush}"
                    CornerRadius="8" Padding="24"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    MinWidth="800" MaxWidth="900" MaxHeight="550">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.5"/>
                </Border.Effect>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- Header -->
                    <Grid Grid.Row="0" Margin="0,0,0,20">
                        <TextBlock x:Name="TxtSettingsTitle" Text="Settings" FontSize="{DynamicResource FontSizeTitle}" FontWeight="SemiBold"
                                   Foreground="{StaticResource AccentBrush}"/>
                        <Button x:Name="BtnCloseSettings" Content="✕"
                                HorizontalAlignment="Right"
                                Padding="8,4" FontSize="{DynamicResource FontSizeSmall}"
                                Click="BtnCloseSettings_Click"/>
                    </Grid>

                    <!-- Scrollable Content -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="24"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Left Column -->
                            <StackPanel Grid.Column="0">
                                <!-- Log Folder Section -->
                                <TextBlock x:Name="TxtLogFolderLabel" Text="Tarkov Log Folder"
                                           FontSize="{DynamicResource FontSizeSmall}" FontWeight="SemiBold"
                                           Foreground="{StaticResource TextPrimaryBrush}"
                                           Margin="0,0,0,8"/>

                                <TextBlock x:Name="TxtLogFolderDesc"
                                           Text="Set the path to Tarkov's Logs folder for automatic quest completion tracking."
                                           FontSize="{DynamicResource FontSizeXSmall}"
                                           Foreground="{StaticResource TextSecondaryBrush}"
                                           TextWrapping="Wrap"
                                           Margin="0,0,0,12"/>

                                <!-- Current Path Display -->
                                <Border Background="{StaticResource BackgroundMediumBrush}"
                                        CornerRadius="4" Padding="12,8" Margin="0,0,0,8">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock x:Name="TxtCurrentLogPath"
                                                   Text="Not configured"
                                                   FontSize="{DynamicResource FontSizeXSmall}"
                                                   Foreground="{StaticResource TextSecondaryBrush}"
                                                   TextTrimming="CharacterEllipsis"
                                                   VerticalAlignment="Center"/>
                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <TextBlock x:Name="TxtDetectionMethod"
                                                       Text=""
                                                       FontSize="{DynamicResource FontSizeTiny}"
                                                       Foreground="{StaticResource AccentBrush}"
                                                       VerticalAlignment="Center"
                                                       Margin="8,0"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <!-- Status Indicator -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                    <Ellipse x:Name="LogFolderStatusIndicator"
                                             Width="8" Height="8"
                                             Fill="#FF4444"
                                             VerticalAlignment="Center"
                                             Margin="0,0,8,0"/>
                                    <TextBlock x:Name="TxtLogFolderStatus"
                                               Text="Invalid path"
                                               FontSize="{DynamicResource FontSizeXSmall}"
                                               Foreground="{StaticResource TextSecondaryBrush}"/>
                                </StackPanel>

                                <!-- Action Buttons -->
                                <WrapPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <Button x:Name="BtnAutoDetect" Content="Auto Detect"
                                            Padding="12,8" Margin="0,0,8,8"
                                            Click="BtnAutoDetect_Click"/>
                                    <Button x:Name="BtnBrowseLogFolder" Content="Browse..."
                                            Padding="12,8" Margin="0,0,8,8"
                                            Click="BtnBrowseLogFolder_Click"/>
                                    <Button x:Name="BtnResetLogFolder" Content="Reset"
                                            Padding="12,8" Margin="0,0,0,8"
                                            Click="BtnResetLogFolder_Click"/>
                                </WrapPanel>

                                <!-- Quest Sync Section -->
                                <Border BorderThickness="0,1,0,0" BorderBrush="{StaticResource BorderBrush}"
                                        Margin="0,12,0,0" Padding="0,16,0,0">
                                    <StackPanel>
                                        <TextBlock x:Name="TxtQuestSyncLabel" Text="Quest Log Sync"
                                                   FontSize="{DynamicResource FontSizeSmall}" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}"
                                                   Margin="0,0,0,8"/>

                                        <TextBlock x:Name="TxtQuestSyncDesc"
                                                   Text="Synchronize quest progress from game log files. This will analyze your Tarkov logs and update completed quests."
                                                   FontSize="{DynamicResource FontSizeXSmall}"
                                                   Foreground="{StaticResource TextSecondaryBrush}"
                                                   TextWrapping="Wrap"
                                                   Margin="0,0,0,12"/>

                                        <!-- Monitoring Status -->
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                            <Ellipse x:Name="MonitoringStatusIndicator"
                                                     Width="8" Height="8"
                                                     Fill="#FF4444"
                                                     VerticalAlignment="Center"
                                                     Margin="0,0,8,0"/>
                                            <TextBlock x:Name="TxtMonitoringStatus"
                                                       Text="Not monitoring"
                                                       FontSize="{DynamicResource FontSizeXSmall}"
                                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                                        </StackPanel>

                                        <WrapPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                            <Button x:Name="BtnSyncQuest" Content="Sync Quest"
                                                    Padding="12,8" Margin="0,0,8,8"
                                                    Click="BtnSyncQuest_Click"/>
                                            <Button x:Name="BtnToggleMonitoring" Content="Start Monitoring"
                                                    Padding="12,8" Margin="0,0,0,8"
                                                    Click="BtnToggleMonitoring_Click"/>
                                        </WrapPanel>

                                        <!-- Enter In-Progress Quests Button -->
                                        <Button x:Name="BtnInProgressQuestInput" Content="Enter In-Progress Quests"
                                                Padding="12,8" Margin="0,4,0,0"
                                                HorizontalAlignment="Left"
                                                Click="BtnInProgressQuestInput_Click"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <!-- Right Column -->
                            <StackPanel Grid.Column="2">
                                <!-- Cache Management Section -->
                                <TextBlock Text="Cache Management"
                                           FontSize="{DynamicResource FontSizeSmall}" FontWeight="SemiBold"
                                           Foreground="{StaticResource TextPrimaryBrush}"
                                           Margin="0,0,0,8"/>

                                <TextBlock Text="Clear cached wiki pages and downloaded data. Use this if you encounter data issues or want to re-download everything."
                                           FontSize="{DynamicResource FontSizeXSmall}"
                                           Foreground="{StaticResource TextSecondaryBrush}"
                                           TextWrapping="Wrap"
                                           Margin="0,0,0,12"/>

                                <!-- Cache Size Display -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                    <TextBlock Text="Cache Size: "
                                               FontSize="{DynamicResource FontSizeXSmall}"
                                               Foreground="{StaticResource TextSecondaryBrush}"/>
                                    <TextBlock x:Name="TxtCacheSize"
                                               Text="Calculating..."
                                               FontSize="{DynamicResource FontSizeXSmall}"
                                               Foreground="{StaticResource TextPrimaryBrush}"/>
                                </StackPanel>

                                <WrapPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <Button x:Name="BtnClearCache" Content="Clear Cache"
                                            Padding="12,8" Margin="0,0,8,8"
                                            Click="BtnClearCache_Click"/>
                                    <Button x:Name="BtnClearAllData" Content="Clear All Data"
                                            Padding="12,8" Margin="0,0,0,8"
                                            Click="BtnClearAllData_Click"
                                            ToolTip="Clear cache and all downloaded data (tasks, items, etc.)"/>
                                </WrapPanel>

                                <!-- Font Size Section -->
                                <Border BorderThickness="0,1,0,0" BorderBrush="{StaticResource BorderBrush}"
                                        Margin="0,12,0,0" Padding="0,16,0,0">
                                    <StackPanel>
                                        <TextBlock Text="Font Size"
                                                   FontSize="{DynamicResource FontSizeSmall}" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}"
                                                   Margin="0,0,0,8"/>

                                        <TextBlock Text="Adjust the base font size for the application."
                                                   FontSize="{DynamicResource FontSizeXSmall}"
                                                   Foreground="{StaticResource TextSecondaryBrush}"
                                                   TextWrapping="Wrap"
                                                   Margin="0,0,0,12"/>

                                        <!-- Font Size Control -->
                                        <Grid Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <Button x:Name="BtnFontSizeDown" Content="-" Width="32" Height="32"
                                                    Grid.Column="0" Padding="0" FontSize="{DynamicResource FontSizeMedium}" FontWeight="Bold"
                                                    Click="BtnFontSizeDown_Click"/>

                                            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                <TextBlock x:Name="TxtCurrentFontSize" Text="16"
                                                           FontSize="{DynamicResource FontSizeLarge}" FontWeight="Bold"
                                                           Foreground="{StaticResource AccentBrush}"
                                                           VerticalAlignment="Center"/>
                                                <TextBlock Text=" pt"
                                                           FontSize="{DynamicResource FontSizeSmall}"
                                                           Foreground="{StaticResource TextSecondaryBrush}"
                                                           VerticalAlignment="Center"/>
                                            </StackPanel>

                                            <Button x:Name="BtnFontSizeUp" Content="+" Width="32" Height="32"
                                                    Grid.Column="2" Padding="0" FontSize="{DynamicResource FontSizeMedium}" FontWeight="Bold"
                                                    Click="BtnFontSizeUp_Click"/>
                                        </Grid>

                                        <Button x:Name="BtnResetFontSize" Content="Reset to Default"
                                                Padding="12,8" HorizontalAlignment="Left"
                                                Click="BtnResetFontSize_Click"/>
                                    </StackPanel>
                                </Border>

                                <!-- Data Migration Section -->
                                <Border BorderThickness="0,1,0,0" BorderBrush="{StaticResource BorderBrush}"
                                        Margin="0,12,0,0" Padding="0,16,0,0">
                                    <StackPanel>
                                        <TextBlock x:Name="TxtDataMigrationLabel" Text="Data Migration"
                                                   FontSize="{DynamicResource FontSizeSmall}" FontWeight="SemiBold"
                                                   Foreground="{StaticResource TextPrimaryBrush}"
                                                   Margin="0,0,0,8"/>

                                        <TextBlock x:Name="TxtDataMigrationDesc"
                                                   Text="Import data from an older version of TarkovHelper (3.5 or earlier). Select the Config folder from your previous installation."
                                                   FontSize="{DynamicResource FontSizeXSmall}"
                                                   Foreground="{StaticResource TextSecondaryBrush}"
                                                   TextWrapping="Wrap"
                                                   Margin="0,0,0,12"/>

                                        <Button x:Name="BtnDataMigration" Content="Import from Config..."
                                                Padding="12,8" HorizontalAlignment="Left"
                                                Click="BtnDataMigration_Click"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Grid>
            </Border>
        </Grid>

    </Grid>

</Window>
